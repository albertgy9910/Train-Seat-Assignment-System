<div class="seat col-lg-3" ><span>1</span></div><div class="seat col-lg-3" ><span>2</span></div><div class="seat col-lg-3" ><span>3</span></div><div class="seat col-lg-3" ><span>4</span></div><div class="seat col-lg-3 seat_seke" id="1">A<img src="/static/images/seat_2.png" width="22" height="22"></div><div class="seat col-lg-3 seat_seke" id="2"><img src="/static/images/seat.png" width="22" height="22"></div><div class="seat col-lg-3 seat_seke" id="3"><img src="/static/images/seat.png" width="22" height="22"></div><div class="seat col-lg-3 seat_seke" id="4"><img src="/static/images/seat_2.png" width="22" height="22"></div><div class="seat col-lg-3 seat_seke" id="5">B<img src="/static/images/seat_2.png" width="22" height="22"></div><div class="seat col-lg-3 seat_seke" id="6"><img src="/static/images/seat.png" width="22" height="22"></div><div class="seat col-lg-3 seat_seke" id="7"><img src="/static/images/seat.png" width="22" height="22"></div><div class="seat col-lg-3 seat_seke" id="8"><img src="/static/images/seat_2.png" width="22" height="22"></div><div class="seat col-lg-3 seat_seke" id="9">C<img src="/static/images/seat_2.png" width="22" height="22"></div><div class="seat col-lg-3 seat_seke" id="10" ><img src="/static/images/seat.png" width="22" height="22"></div><div class="seat col-lg-3 seat_seke" id="11"><img src="/static/images/seat.png" width="22" height="22"></div><div class="seat col-lg-3 seat_seke" id="12"><img src="/static/images/seat_2.png" width="22" height="22"></div><div class="seat col-lg-3 seat_seke" id="13">D<img src="/static/images/seat_2.png" width="22" height="22"></div><div class="seat col-lg-3 seat_seke" id="14"><img src="/static/images/seat.png" width="22" height="22"></div><div class="seat col-lg-3 seat_seke" id="15"><img src="/static/images/seat.png" width="22" height="22"></div><div class="seat col-lg-3 seat_seke" id="16"><img src="/static/images/seat_2.png" width="22" height="22"></div><div class="seat col-lg-3 seat_seke" id="17">E<img src="/static/images/seat_2.png" width="22" height="22"></div><div class="seat col-lg-3 seat_seke" id="18"><img src="/static/images/seat.png" width="22" height="22"></div><div class="seat col-lg-3 seat_seke" id="19"><img src="/static/images/seat.png" width="22" height="22"></div><div class="seat col-lg-3 seat_seke" id="20"><img src="/static/images/seat_2.png" width="22" height="22"></div><div class="seat col-lg-3 seat_seke" id="21">F<img src="/static/images/seat_2.png" width="22" height="22"></div><div class="seat col-lg-3 seat_seke" id="22"><img src="/static/images/seat.png" width="22" height="22"></div><div class="seat col-lg-3 seat_seke" id="23"><img src="/static/images/seat.png" width="22" height="22"></div><div class="seat col-lg-3 seat_seke" id="24"><img src="/static/images/seat_2.png" width="22" height="22"></div><div class="seat col-lg-3 seat_seke" id="25">G<img src="/static/images/seat_2.png" width="22" height="22"></div><div class="seat col-lg-3 seat_seke" id="26"><img src="/static/images/seat.png" width="22" height="22"></div><div class="seat col-lg-3 seat_seke" id="27"><img src="/static/images/seat.png" width="22" height="22"></div><div class="seat col-lg-3 seat_seke" id="28"><img src="/static/images/seat_2.png" width="22" height="22"></div><div class="seat col-lg-3 seat_seke" id="29">H<img src="/static/images/seat_2.png" width="22" height="22"></div><div class="seat col-lg-3 seat_seke" id="30"><img src="/static/images/seat.png" width="22" height="22"></div><div class="seat col-lg-3 seat_seke" id="31"><img src="/static/images/seat.png" width="22" height="22"></div><div class="seat col-lg-3 seat_seke" id="32"><img src="/static/images/seat_2.png" width="22" height="22"></div><div class="seat col-lg-3 seat_seke" id="33">I <img src="/static/images/seat_2.png" width="22" height="22"></div><div class="seat col-lg-3 seat_seke" id="34"><img src="/static/images/seat.png" width="22" height="22"></div><div class="seat col-lg-3 seat_seke" id="35"><img src="/static/images/seat.png" width="22" height="22"></div><div class="seat col-lg-3 seat_seke" id="36"><img src="/static/images/seat_2.png" width="22" height="22"></div><div class="seat col-lg-3 seat_seke" id="37">J <img src="/static/images/seat_2.png" width="22" height="22"></div><div class="seat col-lg-3 seat_seke" id="38"><img src="/static/images/seat.png" width="22" height="22"></div><div class="seat col-lg-3 seat_seke" id="39"><img src="/static/images/seat.png" width="22" height="22"></div><div class="seat col-lg-3 seat_seke" id="40"><img src="/static/images/seat_2.png" width="22" height="22"></div><div class="seat col-lg-3 seat_seke" id="41">K<img src="/static/images/seat_2.png" width="22" height="22"></div><div class="seat col-lg-3 seat_seke" id="42"><img src="/static/images/seat.png" width="22" height="22"></div><div class="seat col-lg-3 seat_seke" id="43"><img src="/static/images/seat.png" width="22" height="22"></div><div class="seat col-lg-3 seat_seke" id="44"><img src="/static/images/seat_2.png" width="22" height="22"></div><div class="seat col-lg-3 seat_seke" id="45">L <img src="/static/images/seat_2.png" width="22" height="22"></div><div class="seat col-lg-3 seat_seke" id="46"><img src="/static/images/seat.png" width="22" height="22"></div><div class="seat col-lg-3 seat_seke" id="47"><img src="/static/images/seat.png" width="22" height="22"></div><div class="seat col-lg-3 seat_seke" id="48"><img src="/static/images/seat_2.png" width="22" height="22"></div><div class="seat col-lg-3 seat_seke" id="49">M<img src="/static/images/seat_2.png" width="22" height="22"></div><div class="seat col-lg-3 seat_seke" id="50"><img src="/static/images/seat.png" width="22" height="22"></div><div class="seat col-lg-3 seat_seke" id="51"><img src="/static/images/seat.png" width="22" height="22"></div><div class="seat col-lg-3 seat_seke" id="52"><img src="/static/images/seat_2.png" width="22" height="22"></div><div class="seat col-lg-3 seat_seke" id="53">N<img src="/static/images/seat_2.png" width="22" height="22"></div><div class="seat col-lg-3 seat_seke" id="54"><img src="/static/images/seat.png" width="22" height="22"></div><div class="seat col-lg-3 seat_seke" id="55"><img src="/static/images/seat.png" width="22" height="22"></div><div class="seat col-lg-3 seat_seke" id="56"><img src="/static/images/seat_2.png" width="22" height="22"></div><div class="seat col-lg-3 seat_seke" id="57">O<img src="/static/images/seat_2.png" width="22" height="22"></div><div class="seat col-lg-3 seat_seke" id="58"><img src="/static/images/seat.png" width="22" height="22"></div><div class="seat col-lg-3 seat_seke" id="59"><img src="/static/images/seat.png" width="22" height="22"></div><div class="seat col-lg-3 seat_seke" id="60"><img src="/static/images/seat_2.png" width="22" height="22"></div><div class="seat col-lg-3 seat_seke" id="61">P<img src="/static/images/seat_2.png" width="22" height="22"></div><div class="seat col-lg-3 seat_seke" id="62"><img src="/static/images/seat.png" width="22" height="22"></div><div class="seat col-lg-3 seat_seke" id="63"><img src="/static/images/seat.png" width="22" height="22"></div><div class="seat col-lg-3 seat_seke" id="64"><img src="/static/images/seat_2.png" width="22" height="22"></div><div class="seat col-lg-3 seat_seke" id="65">Q<img src="/static/images/seat_2.png" width="22" height="22"></div><div class="seat col-lg-3 seat_seke" id="66"><img src="/static/images/seat.png" width="22" height="22"></div><div class="seat col-lg-3 seat_seke" id="67"><img src="/static/images/seat.png" width="22" height="22"></div><div class="seat col-lg-3 seat_seke" id="68"><img src="/static/images/seat_2.png" width="22" height="22"></div><script>    if ({{ data.number_luggage }} >10)        {            $('#2 img').attr('src','/static/images/seat_2.png');            $('#3 img').attr('src','/static/images/seat_2.png');            $('#66 img').attr('src','/static/images/seat_2.png');            $('#67 img').attr('src','/static/images/seat_2.png');        }$(document).ready(function (){    {# Without reloading the entire web page, AJAX loads the data through the background and displays it on the web page.#}    $.ajax({              {# Sending a token to the django backend is to prevent CSRFT attacks #}              heards: {"X-CSRFToken": "{{ csrf_token }}"},              url:"/accounts/api/seat/",              type: "GET",          success:function(result){                  for(i=0;i<result.length;i++){                      if(result[i].seat_status==='1'){                          $('#'+result[i].seat_number).children('img').attr('src','/static/images/seat_5.png')                      }                      if(result[i].seat_status==='2' && result[i].name_id==={{ data.id }}){                          $('#'+result[i].seat_number).children('img').attr('src','/static/images/seat_3.png')                      }else {                          $('#'+result[i].seat_number).children('img').attr('src','/static/images/seat_5.png')                      }                  }        }})})    b=0    flag=true    $('.seat_seke').click(function (){        $('.seat_seke').removeClass('seat_seke1')        $(this).addClass('seat_seke1')         if($('.seat_seke1 img').attr('src')==='/static/images/seat_2.png'){                 $('.seat_seke1 img').attr('src','/static/images/seat_3.png');                 flag=false                 let a = $(this).attr('id')                 if ($('.seat_seke').hasClass('seat_seke1')){                     if($('.seat_seke1 img').attr('src') === '/static/images/seat_3.png'){                         {# Count to prevent exceeding limits #}                         b++                         $.ajax({                                {# Sending a token to the django backend is to prevent CSRFT attacks #}                                heards: {"X-CSRFToken": "{{ csrf_token }}"},                                url: "/accounts/api/order/",                                type: "GET",                                cache: false,                                success: function (result) {                                    if(result[0].user_name==={{ data.id }} && parseInt(b) > parseInt(result[0].                                        seat_number)){                                        {# Determine if the number of seats selected has been exceeded #}                                        alert('Options are greater than the number of seats')                                        window.location.reload()                                    }                                }                            })                             $(".confirm").click(function () {                                 if($('.seat_seke1 img').attr('src') === '/static/images/seat_3.png') {                                     $.ajax(                                         {                                             {# Sending a token to the django backend is to prevent CSRFT attacks #}                                             heards: {"X-CSRFToken": "{{ csrf_token }}"},                                             url: "/accounts/seat_selection/",                                             type: "POST",                                             cache: false,                                             data: {"id": a, 'ticket': 'Ticket1', 'order_number':{{ query.order_number }}},                                             success: function (result) {                                                 if (result.status === '1') {                                                     alert(result.error)                                                 }                                             }                                        });                                 }                             })                     }                 }         } else if($('.seat_seke1 img').attr('src') === '/static/images/seat.png'){                 $('.seat_seke1 img').attr('src','/static/images/seat_3.png');                 flag=true;                 let a = $(this).attr('id')                 if ($('.seat_seke').hasClass('seat_seke1')){                     if($('.seat_seke1 img').attr('src') === '/static/images/seat_3.png'){                         b++                        $.ajax({                                heards: {"X-CSRFToken": "{{ csrf_token }}"},                                url: "/accounts/api/order/",                                type: "GET",                                cache: false,                                success: function (result) {                                    if(result[0].user_name==={{ data.id }} && parseInt(b) > parseInt(result[0].seat_number)){                                        {# Determine if the number of seats selected has been exceeded #}                                        alert('Options are greater than the number of seats')                                        window.location.reload()                                    }                                }                            })                             $(".confirm").click(function () {                                 if($('.seat_seke1 img').attr('src') === '/static/images/seat_3.png') {                                 $.ajax(                                     {                                         heards: {"X-CSRFToken": "{{ csrf_token }}"},                                         url: "/accounts/seat_selection/",                                         cache: false,                                         type: "POST",                                         data: {"id": a, 'ticket': 'Ticket1', 'order_number':{{ query.order_number }}},                                         success: function (result) {                                             if (result.status === '1') {                                                 alert(result.error)                                             }                                         }                                     });                                  }                             })                     }                 }        }else if($('.seat_seke1 img').attr('src') === '/static/images/seat_3.png'){             if (flag==true){                 {# to return the black status #}                 b--                 $('.seat_seke1 img').attr('src','/static/images/seat.png');                 let a = $(this).attr('id')                 if($('.seat_seke1 img').attr('src') === '/static/images/seat.png') {                     $.ajax(                         {                             heards: {"X-CSRFToken": "{{ csrf_token }}"},                             url: "/accounts/seat_selection/",                             cache: false,                             type: "POST",                             data: {"delete_id": a, 'ticket': 'Ticket1', 'order_number':{{ query.order_number }}},                             success: function (result) {                             }                         });                 }                     $('.seat_seke').removeClass('seat_seke1')                 $('.confirm').attr("disabled", true)                 window.location.reload()             }else {                 {# to return the green status #}                 b--                 $('.seat_seke1 img').attr('src','/static/images/seat_2.png');                 let a = $(this).attr('id')                 if($('.seat_seke1 img').attr('src') === '/static/images/seat_2.png') {                     $.ajax(                         {                             heards: {"X-CSRFToken": "{{ csrf_token }}"},                             url: "/accounts/seat_selection/",                             cache: false,                             type: "POST",                             data: {"delete_id": a, 'ticket': 'Ticket1', 'order_number':{{ query.order_number }}},                             success: function (result) {                             }                         });                 }                     $('.seat_seke').removeClass('seat_seke1')                 $('.confirm').attr("disabled", true)                 window.location.reload()             }         }    })</script>